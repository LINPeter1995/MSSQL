--	Module 6 - Lab03 Table-level constraint vs. Column-level constraint

--	CONSTRAINT(???????) ?@??:
--			NOT NULL (?????\ NULL ??)
--			PRIMARY KEY (?D??????)
--			FOREIGN KEY (?~????????)
--			UNIQUE (??@??)
--			DEFAULT (?w?]??)
--			CHECK (?????d)

--	CONSTRAINT(???????) ?i?b??????(CREATE TABLE)???????w"?@??"??"?h??"?@?£V@?????y?k?A
--			??O?????????[?J(ALTER TABLE)?A?i?H???????h?? :
--			Column-level constraint (???h??) : 
--						?i?H???U?O?????w????????A?@?????W?d???@?????C
--			Table-level constraint (?????h??) :
--						?i?H???@??£Xh???????????????A?????????w?q??????????C

--	???w?????O???F?T?O???w???????A?O???T?B????B?@?P???C
--	?i?H?Q?£\??????(Constraints)???@???w?????????C
--	???Ô\??? : ?????????Ô‚???????A??p : ?????u???@??D??????A
--						??B?D????????@?B?????\NULL?A?i?H??? NOT NULL?BPRIMARY KEY?BUNIQUE 
--						????????????????????C
--	????? : ?????????Ô‚??????????S?w??????????A
--						?p : CHECK?BFOREIGN KEY?BDEFAULT?BNOT NULL ?????????????d??C
--	??????? : ?z?L FOREIGN KEY ????????????????????A??{?F?????P?????????????p?C

use LabDB;
go

--	?b????????
-- ?? Table-level constraint ?? Column-level constraint ????????????????‰D???t??
drop table if exists Member0, Member1;
go

--	Column-level constraint : ??@??????? unique
create table Member0 (
	ID int not null,									-- constraint
	Name varchar(50) not null,				-- constraint
	Birthday date,
	Gender char(1) default 'M',				-- constraint
	Email varchar(20) unique				-- constraint
	);
go

--	Table-level constraint ???UNIQUE : ?h???(?h?b?£Xb?????Primary Key)??????
create table Member1 (
	ID int not null,
	Name varchar(50) not null,
	Birthday date,
	Gender char(1) default 'M',
	Email varchar(20),
			constraint UQ_Email unique (Email)				-- Table-level constraint ?@?????
);
go

--	?h???(?h?b?£Xb?????Primary Key)??????
create table Member2 (
	ID int not null,
	Name varchar(50) not null,
	Birthday date,
	Gender char(1) default 'M',
	Email varchar(20),

	constraint PK_ID primary key clustered (ID asc),
	constraint UQ_codes unique nonclustered (Name, Birthday)   --  ?????
) 
go


--	Column-level constraint ???D??????
 create table Member3 (
	ID int primary key,            -- column level
	Name varchar (50) not null,
	Gender char (1) not null default 'M'
);
go


--	Table-level constraint ???D??????
create table Member4 (
	ID int,
	Name varchar (50) not null,
	Gender char (1) not null default 'M'

	constraint PK_ID4 primary key(ID)
);
go
